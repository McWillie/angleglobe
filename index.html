<!DOCTYPE html>
<html>
<head>
<!-- Load the Paper.js library -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.11.5/paper-full.js"></script>
<!-- Define inlined JavaScript -->
<script type="text/javascript">
	// Only executed our code once the DOM is ready.
	function render_all() {
		// Get a reference to the canvas object
		var canvas = document.getElementById('myCanvas');
		// Create an empty project and a view for the canvas:
		paper.setup(canvas);
        //Draw globe
        drawCircle(getAngle());
		// Draw the view now:
		paper.view.draw();
    }

    function toRad(deg) {
    return deg * Math.PI / 180
    }

    function toDeg(rad) {
        return rad / (Math.PI / 180)
    }

    function getAngle() {
        var latA = parseFloat(document.getElementById("latA").value);
        var lonA = parseFloat(document.getElementById("lonA").value);
        var latB = parseFloat(document.getElementById("latB").value);
        var lonB = parseFloat(document.getElementById("lonB").value);
        const cos = Math.cos(toRad(latA))*Math.cos(toRad(latB))*Math.cos(toRad(lonB-lonA))+Math.sin(toRad(latA))*Math.sin(toRad(latB)); 
        return toDeg(Math.acos(cos))
    }

    function drawCircle(angle){
        //Define points
        var point1 = new paper.Point(300, 200);
        var point2 = new paper.Point(300, 300);
        //Draw circle
        var myCircle = new paper.Path.Circle(point2, 100);
        myCircle.strokeColor = 'black';
        //Draw line to the center of the circle
        var myPath = new paper.Path();
        myPath.strokeColor = 'black';
        myPath.add(new paper.Point(300, 200));
        myPath.add(new paper.Point(300, 300));
        //Group previous elements
        var group = new paper.Group([myCircle, myPath]);
        //Rotate the grouped elements
        group.rotate(angle);
        //Draw a line back to the starting point
        myPath.add(point1);
    }

</script>
</head>
<body>
    <canvas style="position:absolute; z-index: -1" id="myCanvas" width="1920" height="1080"></canvas>
    <input id="latA" type="text" placeholder="Latitude A">
    <input id="lonA" type="text" placeholder="Longitude A">
    <input id="latB" type="text" placeholder="Latitude B">
    <input id="lonB" type="text" placeholder="Longitude B">
    <input type="submit" onclick="render_all()">
</body>
</html>